import{f,b as l,d as fe}from"./DLAMQWiX.js";import{ap as ce,k as t,i as s,n as _e,l as a,t as _,aq as ue,z as e,as as R,j as ye}from"./CA-YEXjj.js";import{s as o}from"./CcFbpJ_b.js";import{i as p}from"./Cjh8sQO3.js";import{e as Y,i as D}from"./DlD--9Nh.js";import{s as I}from"./C5dXRjDF.js";import{p as N}from"./C_FJgLy-.js";var me=f('<div class="audit-header svelte-eqyfat"><h3 class="svelte-eqyfat"><i class="fa-solid fa-clipboard-list" aria-hidden="true"></i> </h3> <div class="audit-summary svelte-eqyfat"><span class="summary-item success svelte-eqyfat"> </span> <span class="summary-item warning svelte-eqyfat"> </span> <span class="summary-item danger svelte-eqyfat"> </span></div></div>'),he=f('<div class="entry-value svelte-eqyfat"> </div>'),pe=f('<div class="entry-reason svelte-eqyfat"> </div>'),ge=f('<div class="entry-stakeholder svelte-eqyfat"><i class="fa-solid fa-user" aria-hidden="true"></i> </div>'),qe=f('<div class="entry-timestamp svelte-eqyfat"> </div>'),xe=f('<div class="audit-entry svelte-eqyfat"><div class="entry-field svelte-eqyfat"> </div> <!> <!> <!> <!></div>'),be=f('<div><div class="category-header svelte-eqyfat"><span class="category-icon svelte-eqyfat"><i aria-hidden="true"></i></span> <span class="category-label svelte-eqyfat"> </span> <span class="category-count svelte-eqyfat"> </span></div> <div class="category-entries svelte-eqyfat"></div></div>'),ke=f('<div class="audit-categories svelte-eqyfat"></div>'),we=f('<div class="entry-value svelte-eqyfat"> </div>'),Ae=f('<div class="entry-reason svelte-eqyfat"> </div>'),Te=f('<div class="entry-timestamp svelte-eqyfat"> </div>'),Be=f('<div><span class="entry-indicator svelte-eqyfat"></span> <div class="entry-content svelte-eqyfat"><div class="entry-field svelte-eqyfat"> </div> <!> <!></div> <!></div>'),Ce=f('<div class="audit-list svelte-eqyfat"></div>'),Ee=f('<div><!> <!> <div class="audit-footer svelte-eqyfat"><span class="footer-note svelte-eqyfat"><i class="fa-solid fa-shield-halved" aria-hidden="true"></i> Private context influenced behavior without being exposed</span></div></div>');function We(U,m){ce(m,!0);let F=N(m,"title",3,"Audit Trail"),G=N(m,"showTimestamps",3,!1),H=N(m,"groupByCategory",3,!0),X=N(m,"compact",3,!1);const S=R(()=>H()?{shared:m.entries.filter(r=>r.category==="shared"),influenced:m.entries.filter(r=>r.category==="influenced"),withheld:m.entries.filter(r=>r.category==="withheld")}:{all:m.entries}),Z=[{key:"shared",label:"Shared",icon:"fa-circle-check",color:"success"},{key:"influenced",label:"Influenced",icon:"fa-bolt",color:"warning"},{key:"withheld",label:"Withheld",icon:"fa-lock",color:"danger"}];function J(r){return r===void 0?"â€”":typeof r=="boolean"?r?"Yes":"No":String(r)}var j=Ee();let K;var L=t(j);{var $=r=>{var u=me(),w=t(u),i=s(t(w));a(w);var y=s(w,2),h=t(y),A=t(h);a(h);var T=s(h,2),x=t(T);a(T);var g=s(T,2),B=t(g);a(g),a(y),a(u),_(()=>{var b,P,k;o(i,` ${F()??""}`),o(A,`${((b=e(S).shared)==null?void 0:b.length)??0??""} shared`),o(x,`${((P=e(S).influenced)==null?void 0:P.length)??0??""} influenced`),o(B,`${((k=e(S).withheld)==null?void 0:k.length)??0??""} withheld`)}),l(r,u)};p(L,r=>{F()&&r($)})}var ee=s(L,2);{var ae=r=>{var u=ke();Y(u,21,()=>Z,D,(w,i)=>{const y=R(()=>e(S)[e(i).key]??[]);var h=fe(),A=ye(h);{var T=x=>{var g=be(),B=t(g),b=t(B),P=t(b);a(b);var k=s(b,2),c=t(k,!0);a(k);var n=s(k,2),C=t(n,!0);a(n),a(B);var z=s(B,2);Y(z,21,()=>e(y),D,(re,q)=>{var V=xe(),W=t(V),se=t(W,!0);a(W);var M=s(W,2);{var ie=v=>{var d=he(),E=t(d,!0);a(d),_(ne=>o(E,ne),[()=>J(e(q).value)]),l(v,d)};p(M,v=>{e(q).value!==void 0&&v(ie)})}var O=s(M,2);{var ve=v=>{var d=pe(),E=t(d,!0);a(d),_(()=>o(E,e(q).reason)),l(v,d)};p(O,v=>{e(q).reason&&v(ve)})}var Q=s(O,2);{var de=v=>{var d=ge(),E=s(t(d));a(d),_(()=>o(E,` ${e(q).stakeholder??""}`)),l(v,d)};p(Q,v=>{e(q).stakeholder&&v(de)})}var le=s(Q,2);{var oe=v=>{var d=qe(),E=t(d,!0);a(d),_(()=>o(E,e(q).timestamp)),l(v,d)};p(le,v=>{G()&&e(q).timestamp&&v(oe)})}a(V),_(()=>o(se,e(q).field)),l(re,V)}),a(z),a(g),_(()=>{I(g,1,`audit-category category-${e(i).color??""}`,"svelte-eqyfat"),I(P,1,`fa-solid ${e(i).icon??""}`,"svelte-eqyfat"),o(c,e(i).label),o(C,e(y).length)}),l(x,g)};p(A,x=>{e(y).length>0&&x(T)})}l(w,h)}),a(u),l(r,u)},te=r=>{var u=Ce();Y(u,21,()=>m.entries,D,(w,i)=>{var y=Be(),h=s(t(y),2),A=t(h),T=t(A,!0);a(A);var x=s(A,2);{var g=c=>{var n=we(),C=t(n,!0);a(n),_(z=>o(C,z),[()=>J(e(i).value)]),l(c,n)};p(x,c=>{e(i).value!==void 0&&c(g)})}var B=s(x,2);{var b=c=>{var n=Ae(),C=t(n,!0);a(n),_(()=>o(C,e(i).reason)),l(c,n)};p(B,c=>{e(i).reason&&c(b)})}a(h);var P=s(h,2);{var k=c=>{var n=Te(),C=t(n,!0);a(n),_(()=>o(C,e(i).timestamp)),l(c,n)};p(P,c=>{G()&&e(i).timestamp&&c(k)})}a(y),_(()=>{I(y,1,`audit-entry audit-entry-${e(i).category??""}`,"svelte-eqyfat"),o(T,e(i).field)}),l(w,y)}),a(u),l(r,u)};p(ee,r=>{H()?r(ae):r(te,!1)})}_e(2),a(j),_(()=>K=I(j,1,"audit-panel svelte-eqyfat",null,K,{compact:X()})),l(U,j),ue()}export{We as A};
