import{f as k,b as p,d as Re}from"../chunks/DLAMQWiX.js";import{ap as Se,au as pe,F as w,j as se,i as t,z as e,t as Q,aq as ze,ar as ae,f as Je,k as a,$ as Le,l as s,as as Y,n as te}from"../chunks/CA-YEXjj.js";import{d as Ye,s as u}from"../chunks/CcFbpJ_b.js";import{i as g}from"../chunks/Cjh8sQO3.js";import{e as Ne,i as De}from"../chunks/DlD--9Nh.js";import{h as Ee}from"../chunks/B8NQnvAs.js";import{s as Be}from"../chunks/BSTOKesL.js";import{s as He}from"../chunks/C5dXRjDF.js";import{a as Oe,s as Qe}from"../chunks/D8G-iT40.js";import{v as ue,a as _e,l as We}from"../chunks/Bi_cs7Qk.js";import{g as Ie}from"../chunks/C2nPuBkJ.js";import{l as Me}from"../chunks/D-B1jxGZ.js";import{T as Ke}from"../chunks/DVWFg3Vm.js";import"../chunks/sU9ev7NS.js";/* empty css                */import{A as Ue}from"../chunks/BEydp0xW.js";var Xe=k(`<div class="consent-overlay svelte-10vrk7k"><div class="consent-dialog card svelte-10vrk7k"><h2 class="svelte-10vrk7k">Connect Your VCP Profile</h2> <p class="text-muted">JustinGuitar would like to personalize your experience using your VCP context.</p> <div class="consent-sections svelte-10vrk7k"><div class="consent-section svelte-10vrk7k"><h4 class="svelte-10vrk7k">Required for personalization:</h4> <ul class="consent-list svelte-10vrk7k"><li class="consent-item consent-required svelte-10vrk7k"><span>skill_level</span> <span class="consent-note svelte-10vrk7k">To recommend appropriate lessons</span></li> <li class="consent-item consent-required svelte-10vrk7k"><span>learning_style</span> <span class="consent-note svelte-10vrk7k">To match teaching approach</span></li></ul></div> <div class="consent-section svelte-10vrk7k"><h4 class="svelte-10vrk7k">Optional (improves experience):</h4> <ul class="consent-list svelte-10vrk7k"><li class="consent-item consent-optional svelte-10vrk7k"><span>noise_mode</span> <span class="consent-note svelte-10vrk7k">For quiet practice suggestions</span></li> <li class="consent-item consent-optional svelte-10vrk7k"><span>pace</span> <span class="consent-note svelte-10vrk7k">To adjust lesson speed</span></li> <li class="consent-item consent-optional svelte-10vrk7k"><span>session_length</span> <span class="consent-note svelte-10vrk7k">To fit your available time</span></li></ul></div></div> <div class="privacy-note"><span class="privacy-note-icon"><i class="fa-solid fa-lock" aria-hidden="true"></i></span> <span>Your private context (work schedule, housing situation) is NEVER shared.
					Only the fields listed above are transmitted.</span></div> <div class="consent-actions svelte-10vrk7k"><button class="btn btn-secondary">Deny</button> <button class="btn btn-primary">Allow</button></div></div></div>`),Ze=k('<div class="vcp-badge">VCP Connected</div>'),es=k('<span class="badge badge-success"><i class="fa-solid fa-volume-xmark" aria-hidden="true"></i> Quiet Friendly</span>'),ss=k('<section class="recommendation-section svelte-10vrk7k"><h2>Recommended for You</h2> <div class="lesson-card featured svelte-10vrk7k"><div class="lesson-header svelte-10vrk7k"><h3> </h3> <span class="badge badge-primary">Personalized</span></div> <p class="lesson-description svelte-10vrk7k"> </p> <div class="lesson-meta svelte-10vrk7k"><span><i class="fa-solid fa-stopwatch" aria-hidden="true"></i> </span> <span><i class="fa-solid fa-book" aria-hidden="true"></i> </span> <!></div> <div class="lesson-reason svelte-10vrk7k"><span class="reason-icon"><i class="fa-solid fa-lightbulb" aria-hidden="true"></i></span> <span> </span></div> <button class="btn btn-primary">Start Lesson →</button></div></section>'),as=k(`<div class="quiet-tip card svelte-10vrk7k"><span class="tip-icon svelte-10vrk7k"><i class="fa-solid fa-volume-xmark" aria-hidden="true"></i></span> <div><strong>Quiet Practice Mode Active</strong> <p class="text-sm text-muted">Based on your preferences, we're showing lessons suitable for quiet practice.
							No amp required!</p></div></div>`),ts=k('<span class="badge badge-success text-xs"><i class="fa-solid fa-volume-xmark" aria-hidden="true"></i></span>'),rs=k('<div class="lesson-card svelte-10vrk7k"><div class="lesson-header svelte-10vrk7k"><h3> </h3> <!></div> <p class="text-sm text-muted"> </p> <div class="lesson-meta text-xs svelte-10vrk7k"><span><i class="fa-solid fa-stopwatch" aria-hidden="true"></i> </span> <span><i class="fa-solid fa-book" aria-hidden="true"></i> </span></div></div>'),is=k('<div class="welcome-banner svelte-10vrk7k"><h1 class="svelte-10vrk7k"> </h1> <p class="text-muted"> </p></div> <!> <!> <section class="lessons-section svelte-10vrk7k"><h2>Your Lessons</h2> <div class="lessons-list svelte-10vrk7k"></div></section> <section class="shared-info card svelte-10vrk7k"><h3>What JustinGuitar Received</h3> <div class="field-list" style="margin-top: 0.5rem;"><span class="field-tag field-tag-shared">skill_level</span> <span class="field-tag field-tag-shared">learning_style</span> <span class="field-tag field-tag-shared">noise_mode</span> <span class="field-tag field-tag-shared">pace</span> <span class="field-tag field-tag-shared">display_name</span></div> <p class="text-sm text-muted" style="margin-top: 1rem;"><strong>Not shared:</strong> work_type, schedule, housing, neighbor_situation</p></section> <section class="token-section svelte-10vrk7k"><!></section>',1),ns=k('<div class="no-vcp svelte-10vrk7k"><h2>VCP Not Connected</h2> <p class="text-muted">Connect your VCP profile for a personalized experience.</p> <button class="btn btn-primary">Connect VCP</button></div>'),os=k('<aside class="audit-sidebar svelte-10vrk7k"><!></aside>'),ls=k('<!> <div><div class="main-content svelte-10vrk7k"><div class="platform-frame platform-frame-justinguitar"><div class="platform-header platform-header-justinguitar"><div class="platform-brand svelte-10vrk7k"><span class="platform-logo svelte-10vrk7k"><i class="fa-solid fa-guitar" aria-hidden="true"></i></span> <span class="platform-name svelte-10vrk7k">JustinGuitar</span></div> <div class="header-actions svelte-10vrk7k"><!> <button class="audit-toggle-btn svelte-10vrk7k"><i class="fa-solid fa-clipboard-list" aria-hidden="true"></i> </button></div></div> <div class="platform-content"><!></div></div> <div class="container-narrow" style="margin-top: 2rem;"><div class="nav-links svelte-10vrk7k"><a href="/personal" class="btn btn-ghost">← Back to Profile</a> <a href="/personal/platforms/yousician" class="btn btn-primary">Try Yousician →</a></div></div></div> <!></div>',1);function $s(fe,ke){Se(ke,!0);const re=()=>Oe(ue,"$vcpContext",me),[me,he]=Qe();let C=ae(!0);pe(()=>{re()||ue.set(Ie)});const v=Y(re);let $=ae(!1),A=ae(!1);pe(()=>{_e.hasConsent("justinguitar")?w(A,!0):w($,!0)});function ge(){_e.grantConsent("justinguitar",["skill_level","learning_style"],["noise_mode","pace","session_length"]),We("justinguitar",["skill_level","learning_style","noise_mode","pace","display_name"],["work_type","schedule","housing","neighbor_situation"],2),w(A,!0),w($,!1)}function be(){w($,!1)}const W=Y(()=>()=>{var i,o;const r=Me.justinguitar_lessons;return(o=(i=e(v))==null?void 0:i.constraints)!=null&&o.noise_restricted?r.filter(l=>l.quiet_friendly):r}),P=Y(()=>()=>{var i,o;return((o=(i=e(v))==null?void 0:i.current_skills)==null?void 0:o.current_focus)==="chord_transitions"?e(W)().find(l=>l.skills.includes("chord_transitions")):e(W)()[0]}),ye=Y(()=>()=>{var l,_,f,q,G,D,R,E,T,S;const r=[],i=["skill_level","learning_style","noise_mode","pace","display_name"];for(const m of i){let z=(_=(l=e(v))==null?void 0:l.public_profile)==null?void 0:_[m];m==="display_name"&&(z=(q=(f=e(v))==null?void 0:f.public_profile)==null?void 0:q.display_name),m==="noise_mode"&&(z=(D=(G=e(v))==null?void 0:G.constraints)!=null&&D.noise_restricted?"quiet":"normal"),r.push({field:m.replace(/_/g," "),category:"shared",value:String(z??"—").replace(/_/g," "),stakeholder:"JustinGuitar"})}(E=(R=e(v))==null?void 0:R.constraints)!=null&&E.noise_restricted&&r.push({field:"noise restricted",category:"influenced",value:"true",reason:"Filtering to quiet-friendly lessons"}),(S=(T=e(v))==null?void 0:T.constraints)!=null&&S.schedule_irregular&&r.push({field:"schedule irregular",category:"influenced",value:"true",reason:"Preferring self-paced content"});const o=["work_type","schedule","housing","neighbor_situation"];for(const m of o)r.push({field:m.replace(/_/g," "),category:"withheld",reason:"Private - not transmitted to platforms"});return r});var ie=ls();Ee("10vrk7k",r=>{Je(()=>{Le.title="JustinGuitar - VCP Demo"})});var ne=se(ie);{var xe=r=>{var i=Xe(),o=a(i),l=t(a(o),8),_=a(l);_.__click=be;var f=t(_,2);f.__click=ge,s(l),s(o),s(i),p(r,i)};g(ne,r=>{e($)&&r(xe)})}var I=t(ne,2);let oe;var M=a(I),le=a(M),K=a(le),ve=t(a(K),2),ce=a(ve);{var we=r=>{var i=Ze();p(r,i)};g(ce,r=>{e(A)&&r(we)})}var N=t(ce,2);N.__click=()=>w(C,!e(C));var Ce=t(a(N));s(N),s(ve),s(K);var de=t(K,2),$e=a(de);{var Pe=r=>{var i=is(),o=se(i),l=a(o),_=a(l);s(l);var f=t(l,2),q=a(f);s(f),s(o);var G=t(o,2);{var D=d=>{var c=ss(),j=t(a(c),2),b=a(j),F=a(b),U=a(F,!0);s(F),te(2),s(b);var J=t(b,2),X=a(J,!0);s(J);var y=t(J,2),L=a(y),B=t(a(L));s(L);var x=t(L,2),Z=t(a(x));s(x);var H=t(x,2);{var ee=n=>{var h=es();p(n,h)};g(H,n=>{var h;(h=e(P)())!=null&&h.quiet_friendly&&n(ee)})}s(y);var V=t(y,2),O=t(a(V),2),Fe=a(O);s(O),s(V),te(2),s(j),s(c),Q((n,h,Ve,Ae,Ge)=>{u(U,n),u(X,h),u(B,` ${Ve??""} min`),u(Z,` ${Ae??""}`),u(Fe,`Recommended because your current focus is "${Ge??""}"`)},[()=>{var n;return(n=e(P)())==null?void 0:n.title},()=>{var n;return(n=e(P)())==null?void 0:n.description},()=>{var n;return(n=e(P)())==null?void 0:n.duration_minutes},()=>{var n;return(n=e(P)())==null?void 0:n.module},()=>{var n,h;return(h=(n=e(v).current_skills)==null?void 0:n.current_focus)==null?void 0:h.replace(/_/g," ")}]),p(d,c)};g(G,d=>{e(P)()&&d(D)})}var R=t(G,2);{var E=d=>{var c=as();p(d,c)};g(R,d=>{var c;(c=e(v).constraints)!=null&&c.noise_restricted&&d(E)})}var T=t(R,2),S=t(a(T),2);Ne(S,21,()=>e(W)(),De,(d,c)=>{var j=rs(),b=a(j),F=a(b),U=a(F,!0);s(F);var J=t(F,2);{var X=V=>{var O=ts();p(V,O)};g(J,V=>{e(c).quiet_friendly&&V(X)})}s(b);var y=t(b,2),L=a(y,!0);s(y);var B=t(y,2),x=a(B),Z=t(a(x));s(x);var H=t(x,2),ee=t(a(H));s(H),s(B),s(j),Q(()=>{u(U,e(c).title),u(L,e(c).description),u(Z,` ${e(c).duration_minutes??""} min`),u(ee,` ${e(c).module??""}`)}),p(d,j)}),s(S),s(T);var m=t(T,4),z=a(m);Ke(z,{get context(){return e(v)},showLegend:!0,showSummary:!0}),s(m),Q(()=>{var d;u(_,`Welcome back, ${e(v).public_profile.display_name??""}!`),u(q,`Level: ${e(v).public_profile.experience??""} • ${((d=e(v).current_skills)==null?void 0:d.weeks_learning)??""} weeks learning`)}),p(r,i)},qe=r=>{var i=Re(),o=se(i);{var l=_=>{var f=ns(),q=t(a(f),4);q.__click=()=>w($,!0),s(f),p(_,f)};g(o,_=>{e($)||_(l)},!0)}p(r,i)};g($e,r=>{e(A)&&e(v)?r(Pe):r(qe,!1)})}s(de),s(le),te(2),s(M);var Te=t(M,2);{var je=r=>{var i=os(),o=a(i);{let l=Y(()=>e(ye)());Ue(o,{get entries(){return e(l)},title:"Real-Time Audit",compact:!0,showTimestamps:!1})}s(i),p(r,i)};g(Te,r=>{e(C)&&e(A)&&r(je)})}s(I),Q(()=>{oe=He(I,1,"page-layout svelte-10vrk7k",null,oe,{"audit-open":e(C)}),Be(N,"aria-label",e(C)?"Hide audit panel":"Show audit panel"),u(Ce,` ${e(C)?"Hide":"Show"} Audit`)}),p(fe,ie),ze(),he()}Ye(["click"]);export{$s as component};
