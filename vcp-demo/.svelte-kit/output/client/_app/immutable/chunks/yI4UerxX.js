import{f as o,a as v,c as ae,d as le}from"./B-m6eJpc.js";import{al as $,c as r,r as e,s as p,ao as x,am as ee,a as t,ap as J,f as te}from"./BXTPVpRI.js";import{s as k}from"./CoAyWPxc.js";import{i as C}from"./BMTt8xsr.js";import{e as P,i as D}from"./CrbvR6Gr.js";import{s as Y}from"./Bs5fTaDH.js";import{p as z}from"./Cz0_xHPA.js";import{s as W}from"./CpeysxAg.js";import{s as se}from"./MNI6BP4T.js";var oe=o('<span class="state-indicator svelte-5ux9oo"> </span>'),de=o('<span class="role-badge svelte-5ux9oo"> </span>'),ce=o('<span class="agent-name svelte-5ux9oo"> </span>'),_e=o('<div><div class="avatar-ring svelte-5ux9oo"><div class="avatar-icon svelte-5ux9oo"> </div> <!></div> <!> <!></div>');function X(Q,d){$(d,!0);let b=z(d,"state",3,"idle"),A=z(d,"size",3,"md"),L=z(d,"showBadge",3,!0),H=z(d,"showName",3,!0);const K={sm:"size-sm",md:"size-md",lg:"size-lg"},T={idle:"",thinking:"...",speaking:"ðŸ’¬",listening:"ðŸ‘‚"},B={negotiator:"ðŸ¤",mediator:"âš–ï¸",voter:"ðŸ—³ï¸",advocate:"ðŸ“¢",bidder:"ðŸ’°",auctioneer:"ðŸ”¨"};var j=_e();let q;var I=r(j),V=r(I),U=r(V,!0);e(V);var h=p(V,2);{var s=n=>{var a=oe(),i=r(a,!0);e(a),x(()=>k(i,T[b()])),v(n,a)};C(h,n=>{b()!=="idle"&&n(s)})}e(I);var c=p(I,2);{var g=n=>{var a=de(),i=r(a,!0);e(a),x(()=>{W(a,"title",d.agent.role),k(i,B[d.agent.role]||"ðŸ¤–")}),v(n,a)};C(c,n=>{L()&&n(g)})}var w=p(c,2);{var M=n=>{var a=ce(),i=r(a,!0);e(a),x(()=>k(i,d.agent.display_name)),v(n,a)};C(w,n=>{H()&&n(M)})}e(j),x(()=>{q=se(j,1,`agent-avatar ${K[A()]??""}`,"svelte-5ux9oo",q,{thinking:b()==="thinking"}),Y(I,`--agent-color: ${d.agent.color??""}`),k(U,d.agent.avatar)}),v(Q,j),ee()}var pe=o('<span class="action-badge svelte-fp8j5p"> </span>'),fe=o('<span class="context-shared svelte-fp8j5p" title="VCP context shared"> </span>'),ue=o('<span class="context-hidden svelte-fp8j5p" title="VCP context (private, influenced output)"> </span>'),ge=o('<div class="context-indicators svelte-fp8j5p"><!> <!></div>'),he=o('<div class="message svelte-fp8j5p"><div class="message-avatar svelte-fp8j5p"><!></div> <div class="message-content svelte-fp8j5p"><div class="message-header svelte-fp8j5p"><span class="sender-name svelte-fp8j5p"> </span> <!> <span class="timestamp svelte-fp8j5p"> </span></div> <div class="message-body svelte-fp8j5p"> </div> <!></div></div>'),me=o('<div class="empty-state svelte-fp8j5p"><span class="empty-icon svelte-fp8j5p">ðŸ’¬</span> <p>No messages yet. Start the simulation to see agent interactions.</p></div>'),xe=o('<div class="agent-chat svelte-fp8j5p"><div class="agent-roster svelte-fp8j5p"></div> <div class="message-list svelte-fp8j5p"><!> <!></div></div>');function Ge(Q,d){$(d,!0);let b=z(d,"messages",19,()=>[]),A=z(d,"agents",19,()=>[]),L=z(d,"currentSpeaker",3,null),H=z(d,"showContextIndicators",3,!0);function K(h){return L()===h?"speaking":L()?"listening":"idle"}function T(h){try{return new Date(h).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}}var B=xe(),j=r(B);P(j,21,A,D,(h,s)=>{{let c=J(()=>K(t(s).agent_id));X(h,{get agent(){return t(s)},get state(){return t(c)},size:"sm",showName:!0})}}),e(j);var q=p(j,2),I=r(q);P(I,17,b,h=>h.id,(h,s)=>{var c=he(),g=r(c),w=r(g);X(w,{get agent(){return t(s).sender},state:"idle",size:"sm",showBadge:!1,showName:!1}),e(g);var M=p(g,2),n=r(M),a=r(n),i=r(a,!0);e(a);var l=p(a,2);{var f=_=>{var m=pe(),N=r(m,!0);e(m),x(()=>k(N,t(s).action)),v(_,m)};C(l,_=>{t(s).action&&_(f)})}var u=p(l,2),y=r(u,!0);e(u),e(n);var S=p(n,2),R=r(S,!0);e(S);var E=p(S,2);{var O=_=>{var m=ge(),N=r(m);{var re=G=>{var F=fe(),Z=r(F);e(F),x(ie=>k(Z,`âœ“ ${ie??""}`),[()=>t(s).vcpContextShared.join(", ")]),v(G,F)};C(N,G=>{var F;(F=t(s).vcpContextShared)!=null&&F.length&&G(re)})}var ne=p(N,2);{var ve=G=>{var F=ue(),Z=r(F);e(F),x(()=>k(Z,`ðŸ”’ ${t(s).vcpContextHidden.length??""} private field${t(s).vcpContextHidden.length>1?"s":""} influenced`)),v(G,F)};C(ne,G=>{var F;(F=t(s).vcpContextHidden)!=null&&F.length&&G(ve)})}e(m),v(_,m)};C(E,_=>{var m,N;H()&&((m=t(s).vcpContextShared)!=null&&m.length||(N=t(s).vcpContextHidden)!=null&&N.length)&&_(O)})}e(M),e(c),x(_=>{Y(c,`--sender-color: ${t(s).sender.color??""}`),Y(a,`color: ${t(s).sender.color??""}`),k(i,t(s).sender.display_name),k(y,_),k(R,t(s).content)},[()=>T(t(s).timestamp)]),v(h,c)});var V=p(I,2);{var U=h=>{var s=me();v(h,s)};C(V,h=>{b().length===0&&h(U)})}e(q),e(B),v(Q,B),ee()}var ke=le('<line stroke="rgba(255,255,255,0.1)" stroke-width="1"></line>'),be=o('<div class="shared-center svelte-1l0kbf3"><span class="shared-icon svelte-1l0kbf3">ðŸ”—</span> <span class="shared-label svelte-1l0kbf3">Shared</span> <span class="shared-count svelte-1l0kbf3"> </span></div>'),Ce=o('<div class="agent-node svelte-1l0kbf3"><!></div>'),je=o('<div class="arena-circle svelte-1l0kbf3"><svg class="connection-lines svelte-1l0kbf3" viewBox="0 0 300 300"></svg> <!> <!></div>'),we=o('<span class="private-badge svelte-1l0kbf3"> </span>'),ye=o('<div class="agent-card svelte-1l0kbf3"><!> <div class="agent-info svelte-1l0kbf3"><span class="agent-role svelte-1l0kbf3"> </span> <!></div></div>'),Se=o('<div class="arena-row svelte-1l0kbf3"></div>'),Fe=o('<div class="agent-card svelte-1l0kbf3"><!> <div class="agent-info svelte-1l0kbf3"><span class="agent-role svelte-1l0kbf3"> </span></div></div>'),ze=o('<div class="arena-grid svelte-1l0kbf3"></div>'),Ae=o('<span class="field-chip shared svelte-1l0kbf3"> </span>'),Me=o('<span class="field-chip consensus svelte-1l0kbf3"> </span>'),Be=o('<div class="consensus-fields svelte-1l0kbf3"><span class="consensus-label svelte-1l0kbf3">Requires consensus:</span> <!></div>'),Ie=o('<div class="shared-panel svelte-1l0kbf3"><h4 class="svelte-1l0kbf3"><span class="panel-icon svelte-1l0kbf3">ðŸ”—</span> Shared Context Space</h4> <div class="shared-fields svelte-1l0kbf3"></div> <!></div>'),Ne=o("<div><!> <!></div>");function Je(Q,d){$(d,!0);let b=z(d,"agents",19,()=>[]),A=z(d,"sharedContext",3,null),L=z(d,"currentSpeaker",3,null),H=z(d,"layout",3,"circle"),K=z(d,"showSharedFields",3,!0);function T(s){return L()===s?"speaking":L()?"listening":"idle"}function B(s,c){const g=s/c*2*Math.PI-Math.PI/2,w=120;return{x:Math.cos(g)*w+150,y:Math.sin(g)*w+150}}var j=Ne(),q=r(j);{var I=s=>{var c=je(),g=r(c);P(g,21,b,D,(a,i,l)=>{var f=ae(),u=te(f);P(u,17,()=>b().slice(l+1),D,(y,S,R)=>{const E=J(()=>B(l,b().length)),O=J(()=>B(l+R+1,b().length));var _=ke();x(()=>{W(_,"x1",t(E).x),W(_,"y1",t(E).y),W(_,"x2",t(O).x),W(_,"y2",t(O).y)}),v(y,_)}),v(a,f)}),e(g);var w=p(g,2);{var M=a=>{var i=be(),l=p(r(i),4),f=r(l);e(l),e(i),x(()=>k(f,`${A().shared_fields.length??""} fields`)),v(a,i)};C(w,a=>{K()&&A()&&a(M)})}var n=p(w,2);P(n,17,b,D,(a,i,l)=>{const f=J(()=>B(l,b().length));var u=Ce(),y=r(u);{let S=J(()=>T(t(i).agent_id));X(y,{get agent(){return t(i)},get state(){return t(S)},size:"lg"})}e(u),x(()=>Y(u,`left: ${t(f).x??""}px; top: ${t(f).y??""}px; transform: translate(-50%, -50%)`)),v(a,u)}),e(c),v(s,c)},V=s=>{var c=ae(),g=te(c);{var w=n=>{var a=Se();P(a,21,b,D,(i,l)=>{var f=ye(),u=r(f);{let _=J(()=>T(t(l).agent_id));X(u,{get agent(){return t(l)},get state(){return t(_)},size:"lg"})}var y=p(u,2),S=r(y),R=r(S,!0);e(S);var E=p(S,2);{var O=_=>{var m=we(),N=r(m);e(m),x(()=>k(N,`ðŸ”’ ${A().private_per_agent[t(l).agent_id].length??""} private`)),v(_,m)};C(E,_=>{var m;(m=A())!=null&&m.private_per_agent[t(l).agent_id]&&_(O)})}e(y),e(f),x(()=>k(R,t(l).role)),v(i,f)}),e(a),v(n,a)},M=n=>{var a=ze();P(a,21,b,D,(i,l)=>{var f=Fe(),u=r(f);{let E=J(()=>T(t(l).agent_id));X(u,{get agent(){return t(l)},get state(){return t(E)},size:"md"})}var y=p(u,2),S=r(y),R=r(S,!0);e(S),e(y),e(f),x(()=>k(R,t(l).role)),v(i,f)}),e(a),v(n,a)};C(g,n=>{H()==="row"?n(w):n(M,!1)},!0)}v(s,c)};C(q,s=>{H()==="circle"?s(I):s(V,!1)})}var U=p(q,2);{var h=s=>{var c=Ie(),g=p(r(c),2);P(g,21,()=>A().shared_fields,D,(n,a)=>{var i=Ae(),l=r(i,!0);e(i),x(()=>k(l,t(a))),v(n,i)}),e(g);var w=p(g,2);{var M=n=>{var a=Be(),i=p(r(a),2);P(i,17,()=>A().consensus_required,D,(l,f)=>{var u=Me(),y=r(u,!0);e(u),x(()=>k(y,t(f))),v(l,u)}),e(a),v(n,a)};C(w,n=>{A().consensus_required.length>0&&n(M)})}e(c),v(s,c)};C(U,s=>{K()&&A()&&H()!=="circle"&&s(h)})}e(j),x(()=>se(j,1,`arena arena-${H()??""}`,"svelte-1l0kbf3")),v(Q,j),ee()}export{Ge as A,Je as M};
