const m="ğŸ”’";function t(e){var o,g,r;const i=[];i.push(`VCP:${e.vcp_version}:${e.profile_id}`),i.push(`C:${e.constitution.id}@${e.constitution.version}`),i.push(`P:${e.constitution.persona||"muse"}:${e.constitution.adherence||3}`);const n=((o=e.public_profile)==null?void 0:o.goal)||"unset",l=((g=e.public_profile)==null?void 0:g.experience)||"beginner",u=((r=e.public_profile)==null?void 0:r.learning_style)||"mixed";return i.push(`G:${n}:${l}:${u}`),i.push(_(e.constraints,e.portable_preferences)),i.push(d(e.constraints)),i.push(h(e.private_context)),i.join(`
`)}function _(e,i){const n=[];return e!=null&&e.noise_restricted&&n.push("ğŸ”‡"),e!=null&&e.time_limited&&n.push("â°lim"),e!=null&&e.energy_variable&&n.push("âš¡var"),(i==null?void 0:i.noise_mode)==="quiet_preferred"&&n.push("ğŸ”‡quiet"),(i==null?void 0:i.noise_mode)==="silent_required"&&n.push("ğŸ”•silent"),(i==null?void 0:i.budget_range)==="low"&&n.push("ğŸ’°low"),(i==null?void 0:i.budget_range)==="free_only"&&n.push("ğŸ†“"),i!=null&&i.session_length&&n.push(`â±ï¸${i.session_length.replace("_","")}`),n.length===0?"X:none":`X:${n.join(":")}`}function d(e){const i=[];return e!=null&&e.time_limited&&i.push("time_limited"),e!=null&&e.noise_restricted&&i.push("noise_restricted"),e!=null&&e.budget_limited&&i.push("budget_limited"),e!=null&&e.energy_variable&&i.push("energy_variable"),e!=null&&e.schedule_irregular&&i.push("schedule_irregular"),i.length===0?"F:none":`F:${i.join("|")}`}function h(e){if(!e)return"S:none";const i=[],n=Object.keys(e).filter(u=>u!=="_note"&&u!=="_reasoning"),l=new Set;for(const u of n){const o=u.split("_")[0];l.add(o)}for(const u of l)i.push(`${m}${u}`);return i.length===0?"S:none":`S:${i.join("|")}`}function f(){return[{emoji:"ğŸ”‡",meaning:"quiet mode"},{emoji:"ğŸ”•",meaning:"silent required"},{emoji:"ğŸ’°",meaning:"budget tier"},{emoji:"ğŸ†“",meaning:"free only"},{emoji:"âš¡",meaning:"energy variable"},{emoji:"â°",meaning:"time limited"},{emoji:"â±ï¸",meaning:"session length"},{emoji:"ğŸ“…",meaning:"irregular schedule"},{emoji:"ğŸ”’",meaning:"private (hidden value)"},{emoji:"âœ“",meaning:"shared"}]}function a(e){const i=[],n=[],l=[];if(e.public_profile)for(const[u,o]of Object.entries(e.public_profile))o!=null&&i.push(u);if(e.constraints)for(const[u,o]of Object.entries(e.constraints))o===!0&&l.push(u);if(e.private_context)for(const u of Object.keys(e.private_context))u!=="_note"&&u!=="_reasoning"&&n.push(u);return{transmitted:i,withheld:n,influencing:l}}export{a,t as e,f as g};
