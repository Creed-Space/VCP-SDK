import{f as S,a as w}from"../chunks/SS7UIiiu.js";import{G as xa,aw as ca,e as da,a7 as ja,ax as ka,ay as Ca,a1 as g,az as ua,aA as wa,u as Sa,aB as Ta,w as Pa,ah as Ea,aj as qa,i as Ma,s as l,c as t,ak as P,a as s,ai as Aa,al as na,j as Va,$ as La,r as a,n as E}from"../chunks/Dk9CUYtt.js";import{d as $a,s as h}from"../chunks/CheaE_T0.js";import{e as q,i as M}from"../chunks/DHGQ7-OH.js";import{h as Ba}from"../chunks/CnNqdJOg.js";import{r as b,a as A}from"../chunks/CYZTMHMP.js";import{s as oa}from"../chunks/CxNXv9Qd.js";import{e as Ia,g as Na,a as Ra}from"../chunks/D8QicCye.js";function $(e,v,r=!1){if(e.multiple){if(v==null)return;if(!ja(v))return ka();for(var _ of e.options)_.selected=v.includes(V(_));return}for(_ of e.options){var c=V(_);if(Ca(c,v)){_.selected=!0;return}}(!r||v!==void 0)&&(e.selectedIndex=-1)}function Ee(e){var v=new MutationObserver(()=>{$(e,e.__value)});v.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),xa(()=>{v.disconnect()})}function va(e,v,r=v){var _=new WeakSet,c=!0;ca(e,"change",d=>{var f=d?"[selected]":":checked",u;if(e.multiple)u=[].map.call(e.querySelectorAll(f),V);else{var m=e.querySelector(f)??e.querySelector("option:not([disabled])");u=m&&V(m)}r(u),g!==null&&_.add(g)}),da(()=>{var d=v();if(e===document.activeElement){var f=ua??g;if(_.has(f))return}if($(e,d,c),c&&d===void 0){var u=e.querySelector(":checked");u!==null&&(d=V(u),r(d))}e.__value=d,c=!1}),Ee(e)}function V(e){return"__value"in e?e.__value:e.value}function Se(e,v,r=v){var _=new WeakSet;ca(e,"input",async c=>{var d=c?e.defaultValue:e.value;if(d=Te(e)?Pe(d):d,r(d),g!==null&&_.add(g),await wa(),d!==(d=v())){var f=e.selectionStart,u=e.selectionEnd,m=e.value.length;if(e.value=d??"",u!==null){var T=e.value.length;f===u&&u===m&&T>m?(e.selectionStart=T,e.selectionEnd=T):(e.selectionStart=f,e.selectionEnd=Math.min(u,T))}}}),(Pa&&e.defaultValue!==e.value||Sa(v)==null&&e.value)&&(r(Te(e)?Pe(e.value):e.value),g!==null&&_.add(g)),Ta(()=>{var c=v();if(e===document.activeElement){var d=ua??g;if(_.has(d))return}Te(e)&&c===Pe(e.value)||e.type==="date"&&!c&&!e.value||c!==e.value&&(e.value=c??"")})}function Te(e){var v=e.type;return v==="number"||v==="range"}function Pe(e){return e===""?null:+e}var Fa=S('<meta name="description" content="Interactive VCP token builder and inspector."/>'),Ga=S('<button><span class="persona-icon svelte-j6hxly"><i aria-hidden="true"></i></span> <span class="persona-name svelte-j6hxly"> </span></button>'),Ua=S('<div class="legend-item svelte-j6hxly"><span class="legend-emoji svelte-j6hxly"> </span> <span class="legend-meaning svelte-j6hxly"> </span></div>'),Wa=S('<span class="field-tag field-tag-shared"> </span>'),Ha=S('<span class="field-tag field-tag-influence svelte-j6hxly"> </span>'),Oa=S('<span class="field-tag field-tag-withheld"> </span>'),za=S('<div class="container"><section class="hero svelte-j6hxly"><h1 class="svelte-j6hxly">VCP Playground</h1> <p class="hero-subtitle svelte-j6hxly">Build and inspect VCP tokens interactively. Adjust settings and see the CSM-1 encoding in real-time.</p></section> <div class="playground-grid svelte-j6hxly"><div class="panel controls-panel svelte-j6hxly"><div class="panel-header svelte-j6hxly"><h2 class="svelte-j6hxly">Context Builder</h2> <button class="btn btn-ghost btn-sm">Reset</button></div> <section class="control-section svelte-j6hxly"><h3 class="svelte-j6hxly">Profile</h3> <div class="control-group svelte-j6hxly"><label class="label" for="display-name">Display Name</label> <input id="display-name" type="text" class="input"/></div> <div class="control-group svelte-j6hxly"><label class="label" for="goal">Goal</label> <input id="goal" type="text" class="input"/></div> <div class="control-row svelte-j6hxly"><div class="control-group svelte-j6hxly"><label class="label" for="experience">Experience</label> <select id="experience" class="input select"><option>Beginner</option><option>Intermediate</option><option>Advanced</option><option>Expert</option></select></div> <div class="control-group svelte-j6hxly"><label class="label" for="style">Learning Style</label> <select id="style" class="input select"><option>Visual</option><option>Auditory</option><option>Hands-on</option><option>Reading</option><option>Mixed</option></select></div></div></section> <section class="control-section svelte-j6hxly"><h3 class="svelte-j6hxly">Constitution</h3> <fieldset class="control-group svelte-j6hxly"><legend class="label svelte-j6hxly">Persona</legend> <div class="persona-grid svelte-j6hxly"></div></fieldset> <div class="control-group svelte-j6hxly"><label class="label" for="adherence"> </label> <input id="adherence" type="range" min="1" max="5" class="slider svelte-j6hxly"/></div></section> <section class="control-section svelte-j6hxly"><h3 class="svelte-j6hxly">Constraint Flags</h3> <div class="checkbox-grid svelte-j6hxly"><label class="checkbox-label svelte-j6hxly"><input type="checkbox"/> <span><i class="fa-solid fa-clock" aria-hidden="true"></i> Time Limited</span></label> <label class="checkbox-label svelte-j6hxly"><input type="checkbox"/> <span><i class="fa-solid fa-wallet" aria-hidden="true"></i> Budget Limited</span></label> <label class="checkbox-label svelte-j6hxly"><input type="checkbox"/> <span><i class="fa-solid fa-volume-xmark" aria-hidden="true"></i> Noise Restricted</span></label> <label class="checkbox-label svelte-j6hxly"><input type="checkbox"/> <span><i class="fa-solid fa-bolt" aria-hidden="true"></i> Energy Variable</span></label> <label class="checkbox-label svelte-j6hxly"><input type="checkbox"/> <span><i class="fa-solid fa-calendar" aria-hidden="true"></i> Schedule Irregular</span></label></div></section> <section class="control-section svelte-j6hxly"><h3 class="svelte-j6hxly">Preferences</h3> <div class="control-row svelte-j6hxly"><div class="control-group svelte-j6hxly"><label class="label" for="noise-mode">Noise Mode</label> <select id="noise-mode" class="input select"><option>Normal</option><option>Quiet Preferred</option><option>Silent Required</option></select></div> <div class="control-group svelte-j6hxly"><label class="label" for="budget">Budget Range</label> <select id="budget" class="input select"><option>Unlimited</option><option>High</option><option>Medium</option><option>Low</option><option>Free Only</option></select></div></div></section></div> <div class="panel token-panel svelte-j6hxly"><div class="panel-header svelte-j6hxly"><h2 class="svelte-j6hxly">CSM-1 Token</h2> <button class="btn btn-primary btn-sm">Copy</button></div> <div class="token-display svelte-j6hxly"><pre class="svelte-j6hxly"> </pre></div> <div class="legend-section svelte-j6hxly"><h3 class="svelte-j6hxly">Emoji Key</h3> <div class="legend-grid svelte-j6hxly"></div></div> <div class="summary-section svelte-j6hxly"><h3 class="svelte-j6hxly">Transmission Summary</h3> <div class="summary-grid svelte-j6hxly"><div class="summary-group"><h4 class="summary-label summary-transmitted svelte-j6hxly"> </h4> <div class="field-list"></div></div> <div class="summary-group"><h4 class="summary-label summary-influencing svelte-j6hxly"> </h4> <div class="field-list"></div></div> <div class="summary-group"><h4 class="summary-label summary-withheld svelte-j6hxly"> </h4> <div class="field-list"></div></div></div></div></div></div></div>');function al(e,v){Ea(v,!0);let r=qa(Ma({vcp_version:"1.0.0",profile_id:"playground-user",constitution:{id:"personal.growth.creative",version:"1.0.0",persona:"muse",adherence:3,scopes:["creativity","health","privacy"]},public_profile:{display_name:"Playground User",goal:"learn_guitar",experience:"beginner",learning_style:"hands_on",pace:"steady",motivation:"stress_relief"},portable_preferences:{noise_mode:"quiet_preferred",session_length:"30_minutes",budget_range:"low",feedback_style:"encouraging"},constraints:{time_limited:!0,budget_limited:!0,noise_restricted:!0,energy_variable:!1,schedule_irregular:!1},private_context:{_note:"Private context - never transmitted",work_type:"office_worker",housing:"apartment"}}));const _=na(()=>Ia(s(r))),c=na(()=>Ra(s(r))),d=Na(),f=[{id:"muse",name:"Muse",iconClass:"fa-palette"},{id:"ambassador",name:"Ambassador",iconClass:"fa-handshake"},{id:"godparent",name:"Godparent",iconClass:"fa-shield"},{id:"sentinel",name:"Sentinel",iconClass:"fa-eye"},{id:"anchor",name:"Anchor",iconClass:"fa-anchor"},{id:"nanny",name:"Nanny",iconClass:"fa-child"}];function u(i,o){s(r).constraints={...s(r).constraints,[i]:o}}function m(i,o){s(r).portable_preferences={...s(r).portable_preferences,[i]:o}}function T(){navigator.clipboard.writeText(s(_))}function _a(){Va(r,{...s(r),public_profile:{display_name:"Playground User",goal:"learn_guitar",experience:"beginner",learning_style:"hands_on",pace:"steady",motivation:"stress_relief"},constraints:{time_limited:!1,budget_limited:!1,noise_restricted:!1,energy_variable:!1,schedule_irregular:!1}},!0)}var B=za();Ba("j6hxly",i=>{var o=Fa();da(()=>{La.title="Playground - VCP"}),w(i,o)});var qe=l(t(B),2),I=t(qe),N=t(I),pa=l(t(N),2);pa.__click=_a,a(N);var R=l(N,2),F=l(t(R),2),Me=l(t(F),2);b(Me),a(F);var G=l(F,2),Ae=l(t(G),2);b(Ae),a(G);var Ve=l(G,2),U=t(Ve),W=l(t(U),2),H=t(W);H.value=H.__value="beginner";var O=l(H);O.value=O.__value="intermediate";var z=l(O);z.value=z.__value="advanced";var Le=l(z);Le.value=Le.__value="expert",a(W),a(U);var $e=l(U,2),D=l(t($e),2),K=t(D);K.value=K.__value="visual";var Q=l(K);Q.value=Q.__value="auditory";var J=l(Q);J.value=J.__value="hands_on";var X=l(J);X.value=X.__value="reading";var Be=l(X);Be.value=Be.__value="mixed",a(D),a($e),a(Ve),a(R);var Y=l(R,2),Z=l(t(Y),2),Ie=l(t(Z),2);q(Ie,21,()=>f,M,(i,o)=>{var n=Ga();let p;n.__click=()=>s(r).constitution.persona=s(o).id;var y=t(n),k=t(y);a(y);var C=l(y,2),L=t(C,!0);a(C),a(n),P(()=>{p=oa(n,1,"persona-btn svelte-j6hxly",null,p,{active:s(r).constitution.persona===s(o).id}),oa(k,1,`fa-solid ${s(o).iconClass??""}`,"svelte-j6hxly"),h(L,s(o).name)}),w(i,n)}),a(Ie),a(Z);var Ne=l(Z,2),ee=t(Ne),ha=t(ee);a(ee);var Re=l(ee,2);b(Re),a(Ne),a(Y);var ae=l(Y,2),Fe=l(t(ae),2),le=t(Fe),te=t(le);b(te),te.__change=i=>u("time_limited",i.currentTarget.checked),E(2),a(le);var se=l(le,2),ie=t(se);b(ie),ie.__change=i=>u("budget_limited",i.currentTarget.checked),E(2),a(se);var re=l(se,2),ne=t(re);b(ne),ne.__change=i=>u("noise_restricted",i.currentTarget.checked),E(2),a(re);var oe=l(re,2),ve=t(oe);b(ve),ve.__change=i=>u("energy_variable",i.currentTarget.checked),E(2),a(oe);var Ge=l(oe,2),ce=t(Ge);b(ce),ce.__change=i=>u("schedule_irregular",i.currentTarget.checked),E(2),a(Ge),a(Fe),a(ae);var Ue=l(ae,2),We=l(t(Ue),2),de=t(We),x=l(t(de),2);x.__change=i=>m("noise_mode",i.currentTarget.value);var ue=t(x);ue.value=ue.__value="normal";var _e=l(ue);_e.value=_e.__value="quiet_preferred";var He=l(_e);He.value=He.__value="silent_required",a(x);var Oe;Ee(x),a(de);var ze=l(de,2),j=l(t(ze),2);j.__change=i=>m("budget_range",i.currentTarget.value);var pe=t(j);pe.value=pe.__value="unlimited";var he=l(pe);he.value=he.__value="high";var fe=l(he);fe.value=fe.__value="medium";var me=l(fe);me.value=me.__value="low";var De=l(me);De.value=De.__value="free_only",a(j);var Ke;Ee(j),a(ze),a(We),a(Ue),a(I);var Qe=l(I,2),ye=t(Qe),fa=l(t(ye),2);fa.__click=T,a(ye);var be=l(ye,2),Je=t(be),ma=t(Je,!0);a(Je),a(be);var ge=l(be,2),Xe=l(t(ge),2);q(Xe,21,()=>d,M,(i,o)=>{var n=Ua(),p=t(n),y=t(p,!0);a(p);var k=l(p,2),C=t(k,!0);a(k),a(n),P(()=>{h(y,s(o).emoji),h(C,s(o).meaning)}),w(i,n)}),a(Xe),a(ge);var Ye=l(ge,2),Ze=l(t(Ye),2),xe=t(Ze),je=t(xe),ya=t(je);a(je);var ea=l(je,2);q(ea,21,()=>s(c).transmitted,M,(i,o)=>{var n=Wa(),p=t(n,!0);a(n),P(()=>h(p,s(o))),w(i,n)}),a(ea),a(xe);var ke=l(xe,2),Ce=t(ke),ba=t(Ce);a(Ce);var aa=l(Ce,2);q(aa,21,()=>s(c).influencing,M,(i,o)=>{var n=Ha(),p=t(n,!0);a(n),P(()=>h(p,s(o))),w(i,n)}),a(aa),a(ke);var la=l(ke,2),we=t(la),ga=t(we);a(we);var ta=l(we,2);q(ta,21,()=>s(c).withheld,M,(i,o)=>{var n=Oa(),p=t(n,!0);a(n),P(()=>h(p,s(o))),w(i,n)}),a(ta),a(la),a(Ze),a(Ye),a(Qe),a(qe),a(B),P(()=>{var i,o,n,p,y,k,C,L,sa,ia,ra;h(ha,`Adherence Level: ${s(r).constitution.adherence??""}`),A(te,(i=s(r).constraints)==null?void 0:i.time_limited),A(ie,(o=s(r).constraints)==null?void 0:o.budget_limited),A(ne,(n=s(r).constraints)==null?void 0:n.noise_restricted),A(ve,(p=s(r).constraints)==null?void 0:p.energy_variable),A(ce,(y=s(r).constraints)==null?void 0:y.schedule_irregular),Oe!==(Oe=(k=s(r).portable_preferences)==null?void 0:k.noise_mode)&&(x.value=(x.__value=(C=s(r).portable_preferences)==null?void 0:C.noise_mode)??"",$(x,(L=s(r).portable_preferences)==null?void 0:L.noise_mode)),Ke!==(Ke=(sa=s(r).portable_preferences)==null?void 0:sa.budget_range)&&(j.value=(j.__value=(ia=s(r).portable_preferences)==null?void 0:ia.budget_range)??"",$(j,(ra=s(r).portable_preferences)==null?void 0:ra.budget_range)),h(ma,s(_)),h(ya,`Transmitted (${s(c).transmitted.length??""})`),h(ba,`Influencing (${s(c).influencing.length??""})`),h(ga,`Withheld (${s(c).withheld.length??""})`)}),Se(Me,()=>s(r).public_profile.display_name,i=>s(r).public_profile.display_name=i),Se(Ae,()=>s(r).public_profile.goal,i=>s(r).public_profile.goal=i),va(W,()=>s(r).public_profile.experience,i=>s(r).public_profile.experience=i),va(D,()=>s(r).public_profile.learning_style,i=>s(r).public_profile.learning_style=i),Se(Re,()=>s(r).constitution.adherence,i=>s(r).constitution.adherence=i),w(e,B),Aa()}$a(["click","change"]);export{al as component};
