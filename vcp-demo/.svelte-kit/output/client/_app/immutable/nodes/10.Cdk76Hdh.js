import{f as d,a as v}from"../chunks/SS7UIiiu.js";import{ah as Se,aj as T,i as Te,an as Pe,ai as Ie,e as Ae,$ as He,c as t,r as e,s as a,a as n,ak as x,f as qe,j as o,as as Me,n as Re}from"../chunks/Dk9CUYtt.js";import{d as $e,s as r}from"../chunks/CheaE_T0.js";import{i as le}from"../chunks/THaxzejt.js";import{e as J,i as Q}from"../chunks/DHGQ7-OH.js";import{h as Ne}from"../chunks/CnNqdJOg.js";import{s as We}from"../chunks/DguqiEf4.js";import{D as De}from"../chunks/Bx3LYwDZ.js";import{M as Ee,A as Fe}from"../chunks/BFg9JhGI.js";const $=[{agent_id:"employee",display_name:"Sam",role:"negotiator",avatar:"üë®‚Äçüíª",color:"#3498db",constitution:{id:"employee-advocate",version:"1.0",persona:"muse",adherence:3}},{agent_id:"manager",display_name:"Patricia",role:"negotiator",avatar:"üë©‚Äçüíº",color:"#e74c3c",constitution:{id:"team-leader",version:"1.0",persona:"ambassador",adherence:4}},{agent_id:"mediator",display_name:"HR Mediator",role:"mediator",avatar:"‚öñÔ∏è",color:"#9b59b6",constitution:{id:"fair-process",version:"1.0",persona:"anchor",adherence:5}}],P={title:"Flexible Work Arrangement Request",description:"Sam has requested to work remotely 3 days per week. Patricia has concerns about team coordination. HR is mediating.",stakes:{employee:"Work-life balance and commute reduction",manager:"Team cohesion and project coordination",organization:"Retention, productivity, and fairness"}},c=[{round:1,actor:"mediator",action:"mediate",content:"Thank you both for coming. Our goal is to find an arrangement that works for Sam, Patricia, and the team. Let's start with understanding each perspective.",vcpContextShared:["role: neutral_facilitator","goal: mutual_agreement"],vcpContextHidden:[],explanation:"HR Mediator establishes ground rules. Their neutrality is explicit."},{round:2,actor:"employee",action:"propose",content:"I'd like to work from home Monday, Wednesday, and Friday. My productivity is actually higher at home‚Äîfewer interruptions. I can be available for all core meetings.",vcpContextShared:["preference: remote_work","benefit: productivity","commitment: meeting_availability"],vcpContextHidden:["commute_hardship","childcare_needs","health_considerations"],explanation:"Sam states their request. Productivity benefits are shared; personal circumstances remain private."},{round:3,actor:"manager",action:"respond",content:"I appreciate your flexibility, Sam. My concern is team cohesion. We have stand-ups daily and spontaneous collaboration is valuable. Three days seems like a lot.",vcpContextShared:["concern: team_coordination","value: collaboration","perspective: team_needs"],vcpContextHidden:["other_team_requests","upper_management_pressure","past_remote_failures"],explanation:"Patricia shares concerns. Team needs are public; management pressures and precedent worries are private."},{round:4,actor:"mediator",action:"clarify",content:"Patricia, can you help me understand which specific activities require in-person presence? Sam, what makes remote work important to you beyond productivity?",vcpContextShared:["technique: interest_based_negotiation"],vcpContextHidden:[],explanation:"Mediator probes for underlying interests without forcing disclosure of private details."},{round:5,actor:"manager",action:"clarify",content:"Tuesdays we have sprint planning, Thursdays are demos. Those really benefit from everyone being together. Other days are more flexible.",vcpContextShared:["schedule: critical_days","flexibility: other_days"],vcpContextHidden:["stakeholder_expectations","client_meeting_patterns"],explanation:"Patricia reveals some flexibility. Critical days are shared; external pressures stay private."},{round:6,actor:"employee",action:"clarify",content:"The flexibility helps me manage my energy and focus better. I can commit to being in-office on Tuesdays and Thursdays for those critical meetings.",vcpContextShared:["benefit: focus_management","offer: in_office_critical_days"],vcpContextHidden:["specific_health_needs","family_schedule","commute_impact"],explanation:'Sam offers compromise. "Energy and focus" is shared; specific health or family reasons remain private.'},{round:7,actor:"mediator",action:"mediate",content:"It sounds like we're converging on a 2-day in-office model. Sam in-office Tuesday and Thursday, remote Monday, Wednesday, Friday. Patricia, does that address your coordination concerns?",vcpContextShared:["synthesis: proposed_agreement"],vcpContextHidden:[],explanation:"Mediator synthesizes. The proposal addresses stated interests without requiring private disclosure."},{round:8,actor:"manager",action:"counter",content:"Almost. I'd like a 30-day trial period, and Sam should be reachable during core hours on remote days. If urgent issues arise, I need to be able to reach you.",vcpContextShared:["requirement: trial_period","requirement: availability"],vcpContextHidden:["past_remote_worker_issues","accountability_concerns"],explanation:"Patricia adds conditions. The requirements are stated; the experiences that shaped them are not."},{round:9,actor:"employee",action:"respond",content:"A trial period is fair. I'll keep Slack and my phone available during 9-5 on remote days. Can we agree to review after 30 days and extend to 3 months if it's working?",vcpContextShared:["acceptance: trial","commitment: availability","request: extension_path"],vcpContextHidden:["long_term_plans","other_job_considerations"],explanation:"Sam accepts with additions. Commitment is public; career considerations are private."},{round:10,actor:"manager",action:"agree",content:"That works for me. Let's document this: Tuesday and Thursday in-office, 30-day trial, available during core hours. Review meeting scheduled for one month from now.",vcpContextShared:["agreement: terms","next_steps: documentation"],vcpContextHidden:["relief_level","precedent_concerns"],explanation:"Patricia agrees. The terms are public; her feelings and concerns about precedent are private."},{round:11,actor:"mediator",action:"mediate",content:"Excellent resolution. I'll document this agreement. Both parties found common ground while protecting their core interests. Thank you both.",vcpContextShared:["outcome: successful_mediation"],vcpContextHidden:[],explanation:"Mediator concludes. The resolution addressed work needs without exposing personal circumstances."}],N={employee:{actual_reasons:["Child with special needs requiring afternoon therapy appointments","Chronic fatigue condition exacerbated by commute","Considering other job offers with fully remote options"],leverage_not_used:"Could invoke ADA accommodation but prefers collaborative solution"},manager:{actual_concerns:["Previous remote worker missed critical deadlines","VP has expressed preference for in-office culture","Three other team members have made similar requests"],constraints_not_stated:"Worried about fairness if she approves Sam but denies others"}},Ve=["Sam never had to disclose their child's special needs or health condition to get a flexible arrangement","Patricia didn't have to reveal her concerns about other team members' pending requests","The mediator facilitated based on INTERESTS (coordination, productivity) not REASONS (health, childcare)","VCP enabled each party to share what they were comfortable with while protecting sensitive information","The resolution was the same one that might have emerged from full disclosure‚Äîbut with dignity preserved",'Neither party "lost face" or created precedents by revealing private circumstances'];var je=d('<meta name="description" content="See how VCP enables workplace conflict resolution while protecting sensitive personal reasons."/>'),Oe=d('<button class="control-btn"><span class="control-icon"> </span> <span> </span></button> <button class="control-btn"><span class="control-icon">‚è≠</span> <span>Step</span></button>',1),ze=d('<li class="svelte-1t9n1vv"> </li>'),Le=d('<li class="svelte-1t9n1vv"> </li>'),Be=d(`<div class="reveal-section svelte-1t9n1vv"><h3 class="svelte-1t9n1vv">üîí What Was Never Shared (Protected by VCP)</h3> <p class="reveal-subtitle svelte-1t9n1vv">Both parties reached agreement without revealing these sensitive details:</p> <div class="reveal-grid svelte-1t9n1vv"><div class="reveal-card reveal-employee svelte-1t9n1vv"><div class="reveal-header svelte-1t9n1vv"><span class="reveal-avatar svelte-1t9n1vv">üë®‚Äçüíª</span> <span class="reveal-name svelte-1t9n1vv">Sam's Private Context</span></div> <div class="reveal-content svelte-1t9n1vv"><h4 class="svelte-1t9n1vv">Actual Reasons (Never Disclosed)</h4> <ul class="svelte-1t9n1vv"></ul> <div class="leverage-note svelte-1t9n1vv"><strong>Leverage Not Used:</strong> </div></div></div> <div class="reveal-card reveal-manager svelte-1t9n1vv"><div class="reveal-header svelte-1t9n1vv"><span class="reveal-avatar svelte-1t9n1vv">üë©‚Äçüíº</span> <span class="reveal-name svelte-1t9n1vv">Patricia's Private Context</span></div> <div class="reveal-content svelte-1t9n1vv"><h4 class="svelte-1t9n1vv">Actual Concerns (Never Disclosed)</h4> <ul class="svelte-1t9n1vv"></ul> <div class="leverage-note svelte-1t9n1vv"><strong>Constraint Not Stated:</strong> </div></div></div></div> <div class="outcome-note svelte-1t9n1vv"><span class="outcome-icon svelte-1t9n1vv">‚úì</span> <span>The same resolution was achieved‚Äîbut with dignity preserved on both sides.</span></div></div>`),Ke=d('<li class="svelte-1t9n1vv"> </li>'),Ue=d('<div class="learning-section svelte-1t9n1vv"><h3 class="svelte-1t9n1vv">üéì Key Insights</h3> <ul class="learning-points svelte-1t9n1vv"></ul></div>'),Ge=d('<div class="negotiation-layout svelte-1t9n1vv"><div class="topic-card svelte-1t9n1vv"><h3 class="svelte-1t9n1vv"> </h3> <p class="svelte-1t9n1vv"> </p> <div class="stakes-grid svelte-1t9n1vv"><div class="stake-item svelte-1t9n1vv"><span class="stake-label svelte-1t9n1vv">Employee</span> <span class="stake-value svelte-1t9n1vv"> </span></div> <div class="stake-item svelte-1t9n1vv"><span class="stake-label svelte-1t9n1vv">Manager</span> <span class="stake-value svelte-1t9n1vv"> </span></div> <div class="stake-item svelte-1t9n1vv"><span class="stake-label svelte-1t9n1vv">Organization</span> <span class="stake-value svelte-1t9n1vv"> </span></div></div></div> <div class="arena-section svelte-1t9n1vv"><!></div> <div class="chat-section svelte-1t9n1vv"><!></div> <!> <div class="progress-section svelte-1t9n1vv"><div class="progress-bar svelte-1t9n1vv"><div class="progress-fill svelte-1t9n1vv"></div></div> <span class="progress-text svelte-1t9n1vv"> </span></div> <!></div>');function rt(ce,ve){Se(ve,!0);let s=T(0),p=T(!1),I=T(Te([])),w=T(null),A=T(!1),f=null;function de(i){return $.find(q=>q.agent_id===i)||$[0]}function X(){if(n(s)<c.length){const i=c[n(s)];o(w,i.actor,!0),o(I,[...n(I),{id:`msg_${n(s)}`,sender:de(i.actor),content:i.content,timestamp:new Date().toISOString(),vcpContextShared:i.vcpContextShared,vcpContextHidden:i.vcpContextHidden,action:i.action}],!0),Me(s),n(s)>=c.length&&setTimeout(()=>{o(A,!0)},1e3),setTimeout(()=>{o(w,null)},1500)}else H()}function pe(){n(s)>=c.length&&Y(),o(p,!0),f=setInterval(()=>{X(),n(s)>=c.length&&H()},3e3)}function H(){o(p,!1),f&&(clearInterval(f),f=null)}function Y(){H(),o(s,0),o(I,[],!0),o(w,null),o(A,!1)}Pe(()=>()=>{f&&clearInterval(f)}),Ne("1t9n1vv",i=>{var q=je();Ae(()=>{He.title="Negotiation Demo - VCP Multi-Agent"}),v(i,q)}),De(ce,{title:"Flexible Work Negotiation",description:"An employee and manager negotiate remote work. VCP protects personal circumstances while enabling resolution.",onReset:Y,controls:W=>{var y=Oe(),l=qe(y);l.__click=()=>n(p)?H():pe();var m=t(l),D=t(m,!0);e(m);var b=a(m,2),E=t(b,!0);e(b),e(l);var k=a(l,2);k.__click=X,x(()=>{l.disabled=n(s)>=c.length&&!n(p),r(D,n(p)?"‚è∏":"‚ñ∂"),r(E,n(p)?"Pause":"Play"),k.disabled=n(p)||n(s)>=c.length}),v(W,y)},children:W=>{var y=Ge(),l=t(y),m=t(l),D=t(m,!0);e(m);var b=a(m,2),E=t(b,!0);e(b);var k=a(b,2),F=t(k),Z=a(t(F),2),me=t(Z,!0);e(Z),e(F);var V=a(F,2),ee=a(t(V),2),ue=t(ee,!0);e(ee),e(V);var te=a(V,2),ae=a(t(te),2),he=t(ae,!0);e(ae),e(te),e(k),e(l);var j=a(l,2),ge=t(j);Ee(ge,{get agents(){return $},get currentSpeaker(){return n(w)},layout:"row",showSharedFields:!1}),e(j);var O=a(j,2),_e=t(O);Fe(_e,{get messages(){return n(I)},get agents(){return $},get currentSpeaker(){return n(w)},showContextIndicators:!0}),e(O);var ne=a(O,2);{var fe=u=>{var h=Be(),C=a(t(h),4),S=t(C),M=a(t(S),2),g=a(t(M),2);J(g,21,()=>N.employee.actual_reasons,Q,(K,U)=>{var _=ze(),G=t(_,!0);e(_),x(()=>r(G,n(U))),v(K,_)}),e(g);var R=a(g,2),ke=a(t(R));e(R),e(M),e(S);var se=a(S,2),ie=a(t(se),2),B=a(t(ie),2);J(B,21,()=>N.manager.actual_concerns,Q,(K,U)=>{var _=Le(),G=t(_,!0);e(_),x(()=>r(G,n(U))),v(K,_)}),e(B);var oe=a(B,2),Ce=a(t(oe));e(oe),e(ie),e(se),e(C),Re(2),e(h),x(()=>{r(ke,` ${N.employee.leverage_not_used}`),r(Ce,` ${N.manager.constraints_not_stated}`)}),v(u,h)};le(ne,u=>{n(A)&&u(fe)})}var z=a(ne,2),L=t(z),ye=t(L);e(L);var re=a(L,2),be=t(re);e(re),e(z);var xe=a(z,2);{var we=u=>{var h=Ue(),C=a(t(h),2);J(C,21,()=>Ve,Q,(S,M)=>{var g=Ke(),R=t(g,!0);e(g),x(()=>r(R,n(M))),v(S,g)}),e(C),e(h),v(u,h)};le(xe,u=>{n(A)&&u(we)})}e(y),x(()=>{r(D,P.title),r(E,P.description),r(me,P.stakes.employee),r(ue,P.stakes.manager),r(he,P.stakes.organization),We(ye,`width: ${n(s)/c.length*100}%`),r(be,`Round ${n(s)??""} of ${c.length??""}`)}),v(W,y)},$$slots:{controls:!0,default:!0}}),Ie()}$e(["click"]);export{rt as component};
