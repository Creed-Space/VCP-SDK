<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../../favicon.svg" type="image/svg+xml" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>VCP Demo - Value Context Protocol</title>
		<meta name="description" content="Interactive demos showcasing VCP's privacy-preserving context sharing" />
		<!-- Font Awesome -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
		
		<link href="../../_app/immutable/assets/0.CPpqgH5z.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/DocsLayout.Q1iomWf0.css" rel="stylesheet">
		<link rel="modulepreload" href="../../_app/immutable/entry/start.BVe8oNSi.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/ALvaYeCq.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Dk9CUYtt.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CYrRvoOV.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/BKK8S_aC.js">
		<link rel="modulepreload" href="../../_app/immutable/entry/app.26HB_VDz.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CheaE_T0.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/SS7UIiiu.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/THaxzejt.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/BHzHEumm.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DuyiI72M.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/0.CI2HkVh-.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DNOi2MYz.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CYZTMHMP.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CxNXv9Qd.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DLdlFW72.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/20.B3YOTklP.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DDGX-Iw9.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CnNqdJOg.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/GwEjW-z0.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DHGQ7-OH.js"><!--11tzv0z--><meta name="description" content="Complete specification for the Compact State Message (CSM-1) token format."/><!----><title>CSM-1 Specification - VCP Documentation</title>
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents"><!--[--><!--[--><!----><div class="app svelte-12qhfyh"><a href="#main-content" class="skip-link">Skip to main content</a> <header class="app-header svelte-12qhfyh"><nav class="container flex items-center justify-between"><a href="/" class="logo svelte-12qhfyh" aria-label="VCP Demo Home"><span class="logo-icon svelte-12qhfyh" aria-hidden="true"><i class="fa-solid fa-shield-halved"></i></span> <span class="logo-text svelte-12qhfyh">VCP</span> <span class="logo-badge svelte-12qhfyh">Demo</span></a> <div class="nav-links desktop-nav svelte-12qhfyh" role="navigation" aria-label="Main navigation"><a href="/about" class="nav-link svelte-12qhfyh">About</a> <a href="/demos" class="nav-link svelte-12qhfyh">Demos</a> <a href="/docs" class="nav-link svelte-12qhfyh">Docs</a> <a href="/playground" class="nav-link svelte-12qhfyh">Playground</a> <span class="nav-divider svelte-12qhfyh" aria-hidden="true"></span> <a href="https://creed.space" target="_blank" rel="noopener noreferrer" class="nav-link nav-link-brand svelte-12qhfyh" aria-label="Learn more about Creed Space (opens in new tab)"><span class="brand-icon svelte-12qhfyh" aria-hidden="true">â—ˆ</span> Creed Space</a></div> <button class="mobile-menu-btn svelte-12qhfyh" aria-expanded="false" aria-controls="mobile-nav" aria-label="Open menu"><span class="hamburger svelte-12qhfyh"><span class="svelte-12qhfyh"></span> <span class="svelte-12qhfyh"></span> <span class="svelte-12qhfyh"></span></span></button></nav> <!--[!--><!--]--></header> <main id="main-content" tabindex="-1" class="svelte-12qhfyh"><!--[!--><!----><div class="docs-layout svelte-fxrvrl"><button class="sidebar-toggle svelte-fxrvrl" aria-expanded="false" aria-controls="docs-sidebar"><span class="toggle-icon svelte-fxrvrl">â˜°</span> <span class="toggle-text">Menu</span></button> <aside id="docs-sidebar" class="sidebar svelte-fxrvrl"><nav class="sidebar-nav" aria-label="Documentation navigation"><a href="/docs" class="sidebar-home svelte-fxrvrl"><span class="home-icon svelte-fxrvrl">ğŸ“š</span> Documentation Home</a> <!--[--><div class="nav-section svelte-fxrvrl"><h3 class="nav-section-title svelte-fxrvrl">Getting Started</h3> <ul class="nav-list svelte-fxrvrl"><!--[--><li><a href="/docs/getting-started" class="nav-link svelte-fxrvrl"><span class="nav-link-label">Quick Start</span> <span class="nav-link-time svelte-fxrvrl">5 min</span></a></li><li><a href="/docs/concepts" class="nav-link svelte-fxrvrl"><span class="nav-link-label">Core Concepts</span> <span class="nav-link-time svelte-fxrvrl">10 min</span></a></li><!--]--></ul></div><div class="nav-section svelte-fxrvrl"><h3 class="nav-section-title svelte-fxrvrl">Specifications</h3> <ul class="nav-list svelte-fxrvrl"><!--[--><li><a href="/docs/csm1-specification" class="nav-link svelte-fxrvrl"><span class="nav-link-label">CSM-1 Format</span> <span class="nav-link-time svelte-fxrvrl">15 min</span></a></li><li><a href="/docs/api-reference" class="nav-link svelte-fxrvrl"><span class="nav-link-label">API Reference</span> <span class="nav-link-time svelte-fxrvrl">Ref</span></a></li><!--]--></ul></div><div class="nav-section svelte-fxrvrl"><h3 class="nav-section-title svelte-fxrvrl">Advanced</h3> <ul class="nav-list svelte-fxrvrl"><!--[--><li><a href="/docs/constitutional-ai" class="nav-link svelte-fxrvrl"><span class="nav-link-label">Constitutional AI</span> <span class="nav-link-time svelte-fxrvrl">12 min</span></a></li><li><a href="/docs/privacy-architecture" class="nav-link svelte-fxrvrl"><span class="nav-link-label">Privacy Architecture</span> <span class="nav-link-time svelte-fxrvrl">8 min</span></a></li><li><a href="/docs/interiora" class="nav-link svelte-fxrvrl"><span class="nav-link-label">Interiora Spec</span> <span class="nav-link-time svelte-fxrvrl">20 min</span></a></li><li><a href="/docs/multi-agent" class="nav-link svelte-fxrvrl"><span class="nav-link-label">Multi-Agent Patterns</span> <span class="nav-link-time svelte-fxrvrl">15 min</span></a></li><!--]--></ul></div><!--]--></nav></aside> <main class="docs-content svelte-fxrvrl"><header class="docs-header svelte-fxrvrl"><nav class="breadcrumbs svelte-fxrvrl" aria-label="Breadcrumb"><a href="/docs" class="svelte-fxrvrl">Docs</a> <span class="breadcrumb-sep svelte-fxrvrl" aria-hidden="true">/</span> <span class="breadcrumb-current svelte-fxrvrl">CSM-1 Specification</span></nav> <h1 class="svelte-fxrvrl">CSM-1 Specification</h1> <!--[--><p class="docs-description svelte-fxrvrl">Complete specification for the Compact State Message format.</p><!--]--></header> <article class="docs-article svelte-fxrvrl"><h2>Overview</h2> <p><strong>CSM-1 (Compact State Message v1)</strong> is a human-readable token format for encoding
			VCP context. It's designed to be:</p> <ul><li><strong>Compact</strong> â€” Minimal bytes, fits in headers and logs</li> <li><strong>Human-readable</strong> â€” Developers can inspect tokens visually</li> <li><strong>Privacy-preserving</strong> â€” Private data is represented by markers only</li> <li><strong>Versioned</strong> â€” Forward compatible with future extensions</li></ul> <h2>Token Format</h2> <p>A CSM-1 token consists of 7 lines:</p> <pre><code>VCP:&lt;version>:&lt;profile_id>
C:&lt;constitution_id>@&lt;version>
P:&lt;persona>:&lt;adherence>
G:&lt;goal>:&lt;experience>:&lt;learning_style>
X:&lt;constraint_flags>
F:&lt;active_flags>
S:&lt;private_markers></code></pre> <h3>Example Token</h3> <pre><code>VCP:1.0:user_001
C:learning-assistant@1.0
P:muse:3
G:learn_guitar:beginner:visual
X:ğŸ”‡quiet:ğŸ’°low:â±ï¸30minutes
F:time_limited|budget_limited
S:ğŸ”’work|ğŸ”’housing</code></pre> <h2>Line-by-Line Breakdown</h2> <h3>Line 1: Header</h3> <pre><code>VCP:&lt;version>:&lt;profile_id></code></pre> <table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>version</td><td>string</td><td>VCP protocol version (e.g., "1.0")</td></tr><tr><td>profile_id</td><td>string</td><td>Unique user/profile identifier</td></tr></tbody></table> <h3>Line 2: Constitution Reference</h3> <pre><code>C:&lt;constitution_id>@&lt;version></code></pre> <table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>constitution_id</td><td>string</td><td>Constitution identifier (e.g., "learning-assistant")</td></tr><tr><td>version</td><td>string</td><td>Constitution version</td></tr></tbody></table> <h3>Line 3: Persona</h3> <pre><code>P:&lt;persona>:&lt;adherence></code></pre> <table><thead><tr><th>Field</th><th>Type</th><th>Values</th></tr></thead><tbody><tr><td>persona</td><td>enum</td><td>muse, sentinel, godparent, ambassador, anchor, nanny</td></tr><tr><td>adherence</td><td>1-5</td><td>How strictly to follow constitution rules</td></tr></tbody></table> <h3>Line 4: Goal Context</h3> <pre><code>G:&lt;goal>:&lt;experience>:&lt;learning_style></code></pre> <table><thead><tr><th>Field</th><th>Type</th><th>Values</th></tr></thead><tbody><tr><td>goal</td><td>string</td><td>User's primary goal (e.g., "learn_guitar")</td></tr><tr><td>experience</td><td>enum</td><td>beginner, intermediate, advanced, expert</td></tr><tr><td>learning_style</td><td>enum</td><td>visual, auditory, hands_on, reading, mixed</td></tr></tbody></table> <h3>Line 5: Constraint Flags (X-line)</h3> <pre><code>X:&lt;emoji_flags></code></pre> <p>Colon-separated constraint markers using emoji shortcodes:</p> <table><thead><tr><th>Emoji</th><th>Meaning</th><th>Example</th></tr></thead><tbody><tr><td>ğŸ”‡</td><td>Quiet mode preference</td><td><code>ğŸ”‡quiet</code></td></tr><tr><td>ğŸ”•</td><td>Silent required</td><td><code>ğŸ”•silent</code></td></tr><tr><td>ğŸ’°</td><td>Budget tier</td><td><code>ğŸ’°low</code></td></tr><tr><td>ğŸ†“</td><td>Free only</td><td><code>ğŸ†“</code></td></tr><tr><td>ğŸ’</td><td>Premium budget</td><td><code>ğŸ’high</code></td></tr><tr><td>âš¡</td><td>Energy variable</td><td><code>âš¡var</code></td></tr><tr><td>â°</td><td>Time limited</td><td><code>â°lim</code></td></tr><tr><td>â±ï¸</td><td>Session length</td><td><code>â±ï¸30minutes</code></td></tr><tr><td>ğŸ“…</td><td>Irregular schedule</td><td><code>ğŸ“…irreg</code></td></tr></tbody></table> <p>If no constraints: <code>X:none</code></p> <h3>Line 6: Active Flags (F-line)</h3> <pre><code>F:&lt;flag1>|&lt;flag2>|...</code></pre> <p>Pipe-separated list of currently active constraint flags:</p> <ul><li><code>time_limited</code></li> <li><code>budget_limited</code></li> <li><code>noise_restricted</code></li> <li><code>energy_variable</code></li> <li><code>schedule_irregular</code></li> <li><code>mobility_limited</code></li> <li><code>health_considerations</code></li></ul> <p>If none: <code>F:none</code></p> <h3>Line 7: Private Markers (S-line)</h3> <pre><code>S:ğŸ”’&lt;category1>|ğŸ”’&lt;category2>|...</code></pre> <p>Shows <em>categories</em> of private data that influenced the context, but <strong>never the values</strong>:</p> <ul><li><code>ğŸ”’work</code> â€” Work-related private context exists</li> <li><code>ğŸ”’housing</code> â€” Housing-related private context exists</li> <li><code>ğŸ”’health</code> â€” Health-related private context exists</li> <li><code>ğŸ”’financial</code> â€” Financial private context exists</li></ul> <p>If no private context: <code>S:none</code></p> <h2>Encoding Rules</h2> <h3>String Encoding</h3> <ul><li>All strings are UTF-8</li> <li>Spaces in values are replaced with underscores</li> <li>Colons (<code>:</code>) in values must be escaped as <code>\:</code></li> <li>Pipes (<code>|</code>) in values must be escaped as <code>\|</code></li></ul> <h3>Optional Fields</h3> <ul><li>Missing goal: <code>G:unset:beginner:mixed</code></li> <li>Missing persona: <code>P:muse:3</code> (default)</li> <li>Empty constraints: <code>X:none</code></li></ul> <h2>Parsing</h2> <p>To parse a CSM-1 token:</p> <pre><code>function parseCSM1(token: string) {
  const lines = token.split('\n');
  const result = {};

  for (const line of lines) {
    const [key, ...values] = line.split(':');
    result[key] = values.join(':');
  }

  return result;
}

// Returns:
// {
//   VCP: "1.0:user_001",
//   C: "learning-assistant@1.0",
//   P: "muse:3",
//   G: "learn_guitar:beginner:visual",
//   X: "ğŸ”‡quiet:ğŸ’°low:â±ï¸30minutes",
//   F: "time_limited|budget_limited",
//   S: "ğŸ”’work|ğŸ”’housing"
// }</code></pre> <h2>Display Formatting</h2> <p>For visual display, tokens can be boxed:</p> <pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VCP:1.0:user_001                       â”‚
â”‚ C:learning-assistant@1.0               â”‚
â”‚ P:muse:3                               â”‚
â”‚ G:learn_guitar:beginner:visual         â”‚
â”‚ X:ğŸ”‡quiet:ğŸ’°low:â±ï¸30minutes            â”‚
â”‚ F:time_limited|budget_limited          â”‚
â”‚ S:ğŸ”’work|ğŸ”’housing                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre> <h2>Security Considerations</h2> <h3>What CSM-1 Guarantees</h3> <ul><li>Private context values are <strong>never</strong> included in tokens</li> <li>Only category names appear in the S-line, not values</li> <li>Tokens can be logged and inspected without privacy leakage</li></ul> <h3>What CSM-1 Does NOT Do</h3> <ul><li>Encryption â€” Tokens are readable by anyone who receives them</li> <li>Authentication â€” Tokens don't prove who created them</li> <li>Integrity â€” Tokens can be modified in transit (use signing separately)</li></ul> <h2>Extensions</h2> <p>CSM-1 is designed for forward compatibility. Future versions may add:</p> <ul><li>Additional lines for new context types</li> <li>New emoji shortcodes for constraints</li> <li>Compression for high-volume scenarios</li></ul> <p>Parsers should ignore unrecognized lines gracefully.</p> <h2>Next Steps</h2> <ul><li><a href="/docs/api-reference">API Reference</a> â€” Encoding/decoding functions</li> <li><a href="/playground">Playground</a> â€” Build tokens interactively</li></ul><!----></article> <footer class="docs-footer svelte-fxrvrl"><div class="footer-nav svelte-fxrvrl"><a href="/docs" class="footer-link svelte-fxrvrl"><span class="footer-link-direction svelte-fxrvrl">â†</span> <span>Back to Docs</span></a> <a href="/playground" class="footer-link svelte-fxrvrl"><span>Try the Playground</span> <span class="footer-link-direction svelte-fxrvrl">â†’</span></a></div></footer></main></div> <!--[!--><!--]--><!----><!----><!--]--></main> <footer class="app-footer svelte-12qhfyh"><div class="container"><div class="footer-content svelte-12qhfyh"><div class="footer-brand svelte-12qhfyh"><span class="footer-logo svelte-12qhfyh" aria-hidden="true"><i class="fa-solid fa-shield-halved"></i></span> <div><p class="footer-title svelte-12qhfyh">Value Context Protocol</p> <p class="footer-tagline svelte-12qhfyh">Your context stays yours. Private reasons stay private.</p></div></div> <div class="footer-links svelte-12qhfyh"><div class="footer-section svelte-12qhfyh"><h4 class="svelte-12qhfyh">Demos</h4> <a href="/sharing" class="svelte-12qhfyh">Sharing</a> <a href="/coordination" class="svelte-12qhfyh">Coordination</a> <a href="/self-modeling" class="svelte-12qhfyh">Self-Modeling</a> <a href="/adaptation" class="svelte-12qhfyh">Adaptation</a> <a href="/psychosecurity" class="svelte-12qhfyh">Psychosecurity</a></div> <div class="footer-section svelte-12qhfyh"><h4 class="svelte-12qhfyh">Learn More</h4> <a href="https://creed.space" target="_blank" rel="noopener noreferrer" class="svelte-12qhfyh">Creed Space</a> <a href="https://github.com/creed-space" target="_blank" rel="noopener noreferrer" class="svelte-12qhfyh">GitHub</a></div></div></div> <div class="footer-bottom svelte-12qhfyh"><p>Built with <span aria-label="love">â™¡</span> by <a href="https://creed.space" target="_blank" rel="noopener noreferrer" class="svelte-12qhfyh">Creed Space</a></p> <p class="footer-version svelte-12qhfyh">VCP Demo v0.1</p></div></div></footer></div><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_1na8bx2 = {
						base: new URL("../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../../_app/immutable/entry/start.BVe8oNSi.js"),
						import("../../_app/immutable/entry/app.26HB_VDz.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 20],
							data: [null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
